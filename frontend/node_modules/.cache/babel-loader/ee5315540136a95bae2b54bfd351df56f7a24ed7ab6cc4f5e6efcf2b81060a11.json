{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardSection=_ref=>{let{reports,user,setShowAddForm,fetchReports,downloadExcel,canCreateReport,canViewAllReports}=_ref;const stats={totalReports:reports.length,totalStudents:reports.reduce((sum,report)=>sum+(report.registered||0),0),averageAttendance:reports.length>0?(reports.reduce((sum,report)=>sum+(report.present||0),0)/reports.reduce((sum,report)=>sum+(report.registered||1),0)*100).toFixed(1):0,courses:[...new Set(reports.map(r=>r.coursename))].length};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card bg-primary text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalReports}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Reports\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card bg-success text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalStudents}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Students\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card bg-info text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[stats.averageAttendance,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Avg Attendance\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card bg-warning text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.courses}),/*#__PURE__*/_jsx(\"p\",{children:\"Courses\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Quick Actions\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[canCreateReport&&/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success w-100 mb-2\",onClick:()=>setShowAddForm(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Add New Report\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary w-100 mb-2\",onClick:fetchReports,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync me-2\"}),\"Refresh Data\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-info w-100 mb-2\",onClick:()=>window.setActiveSection&&window.setActiveSection('reports'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list me-2\"}),(user===null||user===void 0?void 0:user.role)==='student'?'View Reports':'View All Reports']})}),canViewAllReports&&/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-excel w-100 mb-2\",onClick:downloadExcel,disabled:reports.length===0,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-excel me-2\"}),\"Export Excel\"]})})]})})]})]});};export default DashboardSection;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","DashboardSection","_ref","reports","user","setShowAddForm","fetchReports","downloadExcel","canCreateReport","canViewAllReports","stats","totalReports","length","totalStudents","reduce","sum","report","registered","averageAttendance","present","toFixed","courses","Set","map","r","coursename","children","className","onClick","window","setActiveSection","role","disabled"],"sources":["C:/Users/DEll/Pictures/gunna/frontend/src/components/Sections/DashboardSection.js"],"sourcesContent":["import React from 'react';\n\nconst DashboardSection = ({ \n  reports, \n  user, \n  setShowAddForm, \n  fetchReports, \n  downloadExcel, \n  canCreateReport, \n  canViewAllReports \n}) => {\n  const stats = {\n    totalReports: reports.length,\n    totalStudents: reports.reduce((sum, report) => sum + (report.registered || 0), 0),\n    averageAttendance: reports.length > 0 \n      ? (reports.reduce((sum, report) => sum + (report.present || 0), 0) / \n         reports.reduce((sum, report) => sum + (report.registered || 1), 0) * 100).toFixed(1)\n      : 0,\n    courses: [...new Set(reports.map(r => r.coursename))].length\n  };\n\n  return (\n    <div>\n      <div className=\"row mb-4\">\n        <div className=\"col-md-3\">\n          <div className=\"stat-card bg-primary text-white\">\n            <div className=\"stat-icon\">\n              <i className=\"fas fa-file-alt\"></i>\n            </div>\n            <div className=\"stat-info\">\n              <h3>{stats.totalReports}</h3>\n              <p>Total Reports</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"stat-card bg-success text-white\">\n            <div className=\"stat-icon\">\n              <i className=\"fas fa-users\"></i>\n            </div>\n            <div className=\"stat-info\">\n              <h3>{stats.totalStudents}</h3>\n              <p>Total Students</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"stat-card bg-info text-white\">\n            <div className=\"stat-icon\">\n              <i className=\"fas fa-chart-line\"></i>\n            </div>\n            <div className=\"stat-info\">\n              <h3>{stats.averageAttendance}%</h3>\n              <p>Avg Attendance</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"stat-card bg-warning text-white\">\n            <div className=\"stat-icon\">\n              <i className=\"fas fa-book\"></i>\n            </div>\n            <div className=\"stat-info\">\n              <h3>{stats.courses}</h3>\n              <p>Courses</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card mt-4\">\n        <div className=\"card-header\">\n          <h5 className=\"mb-0\">Quick Actions</h5>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"row\">\n            {canCreateReport && (\n              <div className=\"col-md-3\">\n                <button \n                  className=\"btn btn-success w-100 mb-2\"\n                  onClick={() => setShowAddForm(true)}\n                >\n                  <i className=\"fas fa-plus me-2\"></i>Add New Report\n                </button>\n              </div>\n            )}\n            <div className=\"col-md-3\">\n              <button \n                className=\"btn btn-primary w-100 mb-2\"\n                onClick={fetchReports}\n              >\n                <i className=\"fas fa-sync me-2\"></i>Refresh Data\n              </button>\n            </div>\n            <div className=\"col-md-3\">\n              <button \n                className=\"btn btn-info w-100 mb-2\"\n                onClick={() => window.setActiveSection && window.setActiveSection('reports')}\n              >\n                <i className=\"fas fa-list me-2\"></i>\n                {user?.role === 'student' ? 'View Reports' : 'View All Reports'}\n              </button>\n            </div>\n            {canViewAllReports && (\n              <div className=\"col-md-3\">\n                <button \n                  className=\"btn btn-excel w-100 mb-2\"\n                  onClick={downloadExcel}\n                  disabled={reports.length === 0}\n                >\n                  <i className=\"fas fa-file-excel me-2\"></i>Export Excel\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardSection;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAQnB,IARoB,CACxBC,OAAO,CACPC,IAAI,CACJC,cAAc,CACdC,YAAY,CACZC,aAAa,CACbC,eAAe,CACfC,iBACF,CAAC,CAAAP,IAAA,CACC,KAAM,CAAAQ,KAAK,CAAG,CACZC,YAAY,CAAER,OAAO,CAACS,MAAM,CAC5BC,aAAa,CAAEV,OAAO,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,MAAM,GAAKD,GAAG,EAAIC,MAAM,CAACC,UAAU,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CACjFC,iBAAiB,CAAEf,OAAO,CAACS,MAAM,CAAG,CAAC,CACjC,CAACT,OAAO,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,MAAM,GAAKD,GAAG,EAAIC,MAAM,CAACG,OAAO,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC/DhB,OAAO,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,MAAM,GAAKD,GAAG,EAAIC,MAAM,CAACC,UAAU,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAAG,GAAG,EAAEG,OAAO,CAAC,CAAC,CAAC,CACrF,CAAC,CACLC,OAAO,CAAE,CAAC,GAAG,GAAI,CAAAC,GAAG,CAACnB,OAAO,CAACoB,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAACb,MACxD,CAAC,CAED,mBACEZ,KAAA,QAAA0B,QAAA,eACE1B,KAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvB5B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,QAAK2B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,eAC9C5B,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB5B,IAAA,MAAG6B,SAAS,CAAC,iBAAiB,CAAI,CAAC,CAChC,CAAC,cACN3B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAKhB,KAAK,CAACC,YAAY,CAAK,CAAC,cAC7Bb,IAAA,MAAA4B,QAAA,CAAG,eAAa,CAAG,CAAC,EACjB,CAAC,EACH,CAAC,CACH,CAAC,cACN5B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,QAAK2B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,eAC9C5B,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB5B,IAAA,MAAG6B,SAAS,CAAC,cAAc,CAAI,CAAC,CAC7B,CAAC,cACN3B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAKhB,KAAK,CAACG,aAAa,CAAK,CAAC,cAC9Bf,IAAA,MAAA4B,QAAA,CAAG,gBAAc,CAAG,CAAC,EAClB,CAAC,EACH,CAAC,CACH,CAAC,cACN5B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,QAAK2B,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eAC3C5B,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB5B,IAAA,MAAG6B,SAAS,CAAC,mBAAmB,CAAI,CAAC,CAClC,CAAC,cACN3B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB1B,KAAA,OAAA0B,QAAA,EAAKhB,KAAK,CAACQ,iBAAiB,CAAC,GAAC,EAAI,CAAC,cACnCpB,IAAA,MAAA4B,QAAA,CAAG,gBAAc,CAAG,CAAC,EAClB,CAAC,EACH,CAAC,CACH,CAAC,cACN5B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,QAAK2B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,eAC9C5B,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB5B,IAAA,MAAG6B,SAAS,CAAC,aAAa,CAAI,CAAC,CAC5B,CAAC,cACN3B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB5B,IAAA,OAAA4B,QAAA,CAAKhB,KAAK,CAACW,OAAO,CAAK,CAAC,cACxBvB,IAAA,MAAA4B,QAAA,CAAG,SAAO,CAAG,CAAC,EACX,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAEN1B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB5B,IAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1B5B,IAAA,OAAI6B,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,eAAa,CAAI,CAAC,CACpC,CAAC,cACN5B,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB1B,KAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAD,QAAA,EACjBlB,eAAe,eACdV,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,WACE2B,SAAS,CAAC,4BAA4B,CACtCC,OAAO,CAAEA,CAAA,GAAMvB,cAAc,CAAC,IAAI,CAAE,CAAAqB,QAAA,eAEpC5B,IAAA,MAAG6B,SAAS,CAAC,kBAAkB,CAAI,CAAC,iBACtC,EAAQ,CAAC,CACN,CACN,cACD7B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,WACE2B,SAAS,CAAC,4BAA4B,CACtCC,OAAO,CAAEtB,YAAa,CAAAoB,QAAA,eAEtB5B,IAAA,MAAG6B,SAAS,CAAC,kBAAkB,CAAI,CAAC,eACtC,EAAQ,CAAC,CACN,CAAC,cACN7B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,WACE2B,SAAS,CAAC,yBAAyB,CACnCC,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,gBAAgB,EAAID,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAE,CAAAJ,QAAA,eAE7E5B,IAAA,MAAG6B,SAAS,CAAC,kBAAkB,CAAI,CAAC,CACnC,CAAAvB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2B,IAAI,IAAK,SAAS,CAAG,cAAc,CAAG,kBAAkB,EACzD,CAAC,CACN,CAAC,CACLtB,iBAAiB,eAChBX,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvB1B,KAAA,WACE2B,SAAS,CAAC,0BAA0B,CACpCC,OAAO,CAAErB,aAAc,CACvByB,QAAQ,CAAE7B,OAAO,CAACS,MAAM,GAAK,CAAE,CAAAc,QAAA,eAE/B5B,IAAA,MAAG6B,SAAS,CAAC,wBAAwB,CAAI,CAAC,eAC5C,EAAQ,CAAC,CACN,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}